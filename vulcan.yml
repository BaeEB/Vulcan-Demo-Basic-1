--- # Start
name: example

# 유저의 github 저장소 정보
url:
docker-image:

# predefined docker-image를 사용하되, 추가적인 설정이 필요한 경우 이렇게 정의
extra-build-env-setting-commands:

test-candidates: |
  tools/tiffcrop.c

time-out: 3600
max-patch-number : 500

test-build-command: | # 테스트 빌드 커맨드 / defect4cpp 기준 meta.json의 내용이 필요  
  ./autogen.sh  
  ./configure
  make clean
  make -j10
  chmod -R 777 tools

coverage-build-command: | # 커버리지 빌드 커맨드 / defect4cpp 기준 meta.json의 내용이 필요(SBFL: gcov)
  ./autogen.sh  
  ./configure
  make clean
  make -j10 CFLAGS="--coverage -DDPP_ENABLE_GCOV"
  chmod -R 777 tools


# 테스트 type이 문제: gtest의 경우 원하는 테스트를 실행할 수 있으니 문제가 없음
# 그렇지 않으면 test-case에 실행할 테스트 번호를 range로 하도록함
# 테스트 실행 역시 range안에 있는 테스트들만 실행하도록 묶어서 command를 부르거나 여러번 불러야함
test-type: automake
test-list: | # 테스트 리스트 커맨드 / 테스트를 하나씩 실행하기 위해 테스트 리스트를 출력해주는 내용 필요
  chmod -R 777 tools;tools/tiffcrop .dpp/CVE-2016-5321.tif /tmp/tmpout.tif
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 1)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 2)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 3)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 4)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 5)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 6)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 7)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 10)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 11)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 12)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 13)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 14)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 15)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 16)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 17)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 18)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 19)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 20)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 21)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 22)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 23)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 24)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 25)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 26)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 27)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 28)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 29)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 30)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 31)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 32)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 33)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 34)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 35)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 36)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 37)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 38)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 39)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 40)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 41)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 42)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 43)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 44)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 45)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 46)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 47)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 48)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 49)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 50)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 51)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 52)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 53)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 54)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 55)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 56)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 57)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 58)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 59)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 60)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 61)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 62)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 63)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 64)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 65)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 66)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 67)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 68)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 69)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 70)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 71)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 72)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 73)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 74)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 75)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 76)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 77)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 78)
  cd test;make check-TESTS --no-print-directory TESTS=$(cd test;make print-TESTS | cut -d ' ' -f 79)
  
  
  

test-case:

test-command: | # 테스트 실행
  bash -c "@testcase@"
test-coverage-command: | # 커버리지 테스트 실행 / 테스트 대상을 입력받아서 하나씩 실행할 수 있어야 함
  bash -c "@testcase@"
gcov-exclusion-list: | # 커버리지 제외 대상
  test*.o
